# NeetLogIQ Configuration File
# Externalized configuration for all matching and processing parameters

# Database Configuration
database:
  # SQLite (Development)
  sqlite_path: "data/sqlite"
  master_data_db: "master_data.db"
  aiq_counselling_db: "AIQ_counselling_data.db"
  kea_counselling_db: "KEA_counselling_data.db"
  linked_data_db: "linked_data.db"
  seat_data_db: "seat_data.db"
  
  # PostgreSQL (Local Development)
  local_postgresql_url: "postgresql://kashyapanand@localhost:5432/neetlogiq"
  
  # PostgreSQL (Production - Neon)
  neon_url: "postgresql://neondb_owner:npg_EZFqn57Jjgml@ep-little-frog-a8v5n24y-pooler.eastus2.azure.neon.tech/neondb?sslmode=require&channel_binding=require"
  # Example: "postgresql://user:pass@ep-cool-darkness-123456.us-east-2.aws.neon.tech/neetlogiq"

# Matching Configuration
matching:
  # Score thresholds for different matching methods
  thresholds:
    exact: 100
    high_confidence: 90
    medium_confidence: 80
    low_confidence: 75
    exact_match: 1.0
    normalized_match: 0.95
    fuzzy_match: 0.85
    substring_match: 0.70
    partial_word_match: 0.75
    tfidf_match: 0.80

  # Minimum confidence for accepting a match
  min_confidence: 0.70
  
  # Maximum number of candidates to consider
  max_candidates: 10
  
  # Enable/disable different matching strategies
  strategies:
    exact: true
    normalized: true
    fuzzy: true
    substring: true
    partial_word: true
    tfidf: true

# TF-IDF Configuration
tfidf:
  # Maximum features for TF-IDF vectorizer
  max_features: 1000
  
  # N-gram range for TF-IDF
  ngram_range: [1, 2]
  
  # Minimum document frequency
  min_df: 1
  
  # Maximum document frequency
  max_df: 0.95
  
  # Whether to use stop words
  use_stop_words: true

# Parallel Processing Configuration
parallel:
  # Number of processes for parallel processing
  num_processes: 4
  
  # Batch size for processing
  batch_size: 1000
  
  # Memory limit per process (MB)
  memory_limit: 512

# String Normalization Configuration
normalization:
  # Remove special characters with proper spacing (but preserve commas)
  remove_special_chars: true
  
  # Convert to uppercase
  to_uppercase: true
  
  # Remove extra whitespace
  normalize_whitespace: true
  
  # Handle hyphens and dots with proper spacing
  handle_hyphens_dots: true

# Course Classification Configuration
course_classification:
  # Check DNB patterns first (most specific - DNB- should be checked before DIPLOMA)
  dnb_patterns:
    - "DNB-"
    - "DNB"
  
  # Check dental patterns second (most specific)
  dental_patterns:
    - "BDS"
    - "MDS"
    - "PG DIPLOMA"
    - "DENTAL"
  
  # Check medical patterns last (includes DIPLOMA)
  medical_patterns:
    - "MBBS"
    - "MD"
    - "MS"
    - "MD/MS"
    - "MPH"
    - "DIPLOMA"
    - "POST MBBS"
    - "DM"
    - "MCH"
    - "ALL PG COURSES"

# State Name Normalization
state_normalization:
  mappings:
    "DELHI (NCT)": "DELHI"
    "NEW DELHI": "DELHI"
    "ORISSA": "ODISHA"
    "JAMMU AND KASHMIR": "JAMMU AND KASHMIR"
    "ANDHRA PRADESH": "ANDHRA PRADESH"
    "ARUNACHAL PRADESH": "ARUNACHAL PRADESH"
    "ASSAM": "ASSAM"
    "BIHAR": "BIHAR"
    "CHHATTISGARH": "CHHATTISGARH"
    "GOA": "GOA"
    "GUJARAT": "GUJARAT"
    "HARYANA": "HARYANA"
    "HIMACHAL PRADESH": "HIMACHAL PRADESH"
    "JHARKHAND": "JHARKHAND"
    "KARNATAKA": "KARNATAKA"
    "KERALA": "KERALA"
    "MADHYA PRADESH": "MADHYA PRADESH"
    "MAHARASHTRA": "MAHARASHTRA"
    "MANIPUR": "MANIPUR"
    "MEGHALAYA": "MEGHALAYA"
    "MIZORAM": "MIZORAM"
    "NAGALAND": "NAGALAND"
    "PUNJAB": "PUNJAB"
    "RAJASTHAN": "RAJASTHAN"
    "SIKKIM": "SIKKIM"
    "TAMIL NADU": "TAMIL NADU"
    "TELANGANA": "TELANGANA"
    "TRIPURA": "TRIPURA"
    "UTTAR PRADESH": "UTTAR PRADESH"
    "UTTARAKHAND": "UTTARAKHAND"
    "WEST BENGAL": "WEST BENGAL"

# Logging Configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(levelname)s - %(message)s"
  file: "logs/neetlogiq.log"
  max_size: "10MB"
  backup_count: 5

# Human-in-the-Loop Configuration
human_feedback:
  # Enable interactive mode
  interactive_mode: true
  
  # Show top N matches for manual review
  top_matches: 5
  
  # Minimum confidence for manual review
  min_confidence_for_review: 0.60
  
  # Save manual corrections to database
  save_corrections: true

# DIPLOMA Course Classification
diploma_courses:
  # DNB-only courses (only offered in DNB stream)
  dnb_only:
    - "DIPLOMA IN FAMILY MEDICINE"
  
  # Overlapping courses (offered in both MEDICAL and DNB streams)
  overlapping:
    - "DIPLOMA IN ANAESTHESIOLOGY"
    - "DIPLOMA IN OBSTETRICS AND GYNAECOLOGY"
    - "DIPLOMA IN OPHTHALMOLOGY"
    - "DIPLOMA IN OTORHINOLARYNGOLOGY"
  
  # Note: All other DIPLOMA courses default to 'medical' type

# Aliases Configuration
aliases:
  # College name aliases
  college_aliases:
    "CENTRE": "CENTER"
    "KOVAI MEDICAL CENTRE": "KOVAI MEDICAL CENTER AND HOSPITAL"
    "KIMS SUNSHINE HOSPITAL (FORMERLY KNOWN AS SUNSHINE HOSPITAL)": "KIMS SUNSHINE HOSPITAL (SUNSHINE HOSPITAL)"
    "ISLAMPUR SDH/ ISSH": "ISLAMPUR SUPER SPECIALTY HOSPITAL"
  
  # Course name aliases
  course_aliases:
    "MD IN ANAESTHESIA": "MD IN ANAESTHESIOLOGY"
    "MCH IN CARDIOTHORACIC SURGERY": "MCH IN CARDIO VASCULAR AND THORACIC SURGERY"
    "DIPLOMA IN OTORHINOLARYNGOLOGY": "DIPLOMA IN ENT"
    "DNB IN OTORHINOLARYNGOLOGY": "DNB IN ENT"
    "DNB- DIPLOMA IN RADIO DIAGNOSIS NMDR": "DNB- DIPLOMA IN RADIO DIAGNOSIS"

# Export Configuration
export:
  # Output directory
  output_dir: "data"
  
  # Export statistics
  export_stats: true
